==30154== Memcheck, a memory error detector
==30154== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==30154== Using Valgrind-3.19.0 and LibVEX; rerun with -h for copyright info
==30154== Command: ./server --leak-check=full -tool=memcheck
==30154== 
==30154== Thread 2:
==30154== Conditional jump or move depends on uninitialised value(s)
==30154==    at 0x4C38E88: strlen (vg_replace_strmem.c:494)
==30154==    by 0x9197981: puts (ioputs.c:35)
==30154==    by 0x119621: AThread(void*) (server.cpp:2338)
==30154==    by 0x50DB6DA: start_thread (pthread_create.c:463)
==30154==    by 0x923861E: clone (clone.S:95)
==30154== 
==30154== Syscall param write(buf) points to uninitialised byte(s)
==30154==    at 0x9227137: write (write.c:27)
==30154==    by 0x91A215C: _IO_file_write@@GLIBC_2.2.5 (fileops.c:1203)
==30154==    by 0x91A3F00: new_do_write (fileops.c:457)
==30154==    by 0x91A3F00: _IO_do_write@@GLIBC_2.2.5 (fileops.c:433)
==30154==    by 0x91A1727: _IO_file_sync@@GLIBC_2.2.5 (fileops.c:813)
==30154==    by 0x919582C: fflush (iofflush.c:40)
==30154==    by 0x8C88C4D: std::ostream::flush() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25)
==30154==    by 0x1212AF: WrapStack<int>::lock() (server.cpp:115)
==30154==    by 0x119BDD: AThread(void*) (server.cpp:2423)
==30154==    by 0x50DB6DA: start_thread (pthread_create.c:463)
==30154==    by 0x923861E: clone (clone.S:95)
==30154==  Address 0xcda27f3 is 339 bytes inside a block of size 4,096 alloc'd
==30154==    at 0x4C33045: malloc (vg_replace_malloc.c:381)
==30154==    by 0x919513B: _IO_file_doallocate (filedoalloc.c:101)
==30154==    by 0x91A5328: _IO_doallocbuf (genops.c:365)
==30154==    by 0x91A4447: _IO_file_overflow@@GLIBC_2.2.5 (fileops.c:759)
==30154==    by 0x91A298C: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1266)
==30154==    by 0x9172503: vfprintf (vfprintf.c:1328)
==30154==    by 0x917BEE5: printf (printf.c:33)
==30154==    by 0x12066D: WrapStack<int>::WrapStack() (server.cpp:94)
==30154==    by 0x11CD80: __static_initialization_and_destruction_0(int, int) (server.cpp:128)
==30154==    by 0x11CDFC: _GLOBAL__sub_I__Z8user_dirB5cxx11 (server.cpp:2934)
==30154==    by 0x15602C: __libc_csu_init (in /home/yaoxuetao/CMPW-server/build/server)
==30154==    by 0x9138C17: (below main) (libc-start.c:266)
==30154== 
==30154== Warning: noted but unhandled ioctl 0x30000001 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x27 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x25 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x17 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: set address range perms: large range [0x200000000, 0x300200000) (noaccess)
==30154== Warning: set address range perms: large range [0x13ad4000, 0x33ad3000) (noaccess)
==30154== Warning: noted but unhandled ioctl 0x19 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x49 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x21 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x1b with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x44 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
==30154== Warning: noted but unhandled ioctl 0x48 with no size/direction hints.
==30154==    This could cause spurious value errors to appear.
==30154==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.
